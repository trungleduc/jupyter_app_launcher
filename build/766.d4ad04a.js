"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[766],{90766:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P,pluginManagerPlugin:()=>w});var a=n(77415),s=n(94079),o=n(68310),r=n(50856),l=n(39089),i=n(64535),c=n(67267),u=n(2536),d=n(77626),p=n.n(d);class g{constructor(){this._status="idle",this._statusChanged=new u.Signal(this)}get status(){return this._status}get statusChanged(){return this._statusChanged}setStatus(e){this._status!==e&&(this._status=e,this._statusChanged.emit(e))}}function m(e){const[t,n]=(0,d.useState)(e.model.status);(0,d.useEffect)((()=>{const t=(e,t)=>{n(t)};return e.model.statusChanged.connect(t),()=>{e.model.statusChanged.disconnect(t)}}),[e.model]);const a="dead"===t,s="idle"===t,o=!a&&!s;return p().createElement("div",{className:"jp-KernelStatus",onClick:e.onClick,style:{cursor:"pointer"},title:"Click to open kernel logs"},p().createElement("div",{className:"jp-KernelStatus-icon-container"},o&&p().createElement("div",{className:"jp-KernelStatus-spinner"},p().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p().createElement("circle",{className:"jp-KernelStatus-spinner-track",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p().createElement("path",{className:"jp-KernelStatus-spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),s&&p().createElement("div",{className:"jp-KernelStatus-success"},p().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),p().createElement("path",{d:"M8 12L11 15L16 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),a&&p().createElement("div",{className:"jp-KernelStatus-error"},p().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),p().createElement("path",{d:"M15 9L9 15M9 9L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))}class h extends s.ReactWidget{constructor(e){super(),this._model=e.model,this._onClick=e.onClick||(()=>{}),this.addClass("jp-KernelStatus-widget"),this.addClass("jp-mod-highlighted"),this.node.style.cursor="pointer"}get model(){return this._model}render(){return p().createElement(m,{model:this._model,onClick:this._onClick})}}const C={id:"@jupyterlite/apputils-extension:kernel-status",description:"Kernel status indicator for JupyterLite",autoStart:!0,optional:[s.IToolbarWidgetRegistry,c.ILoggerRegistry],activate:(e,t,n)=>{const{commands:a}=e;t&&t.addFactory("Notebook","kernelStatus",(e=>{const t=new g;if(e.sessionContext.statusChanged.connect(((e,n)=>{t.setStatus(n)})),n){const a=e.context.path,s=n.getLogger(a);null==s||s.contentChanged.connect(((e,n)=>{const a=s.outputAreaModel.length;if("append"===n&&a>0){const e=s.outputAreaModel.get(a-1).level;"critical"===e?t.setStatus("dead"):"metadata"!==e&&t.setStatus("busy")}}))}return new h({model:t,onClick:()=>{a.execute("logconsole:open")}})}))}};var v;!function(e){e.openPluginManager="apputils:open-plugin-manager"}(v||(v={}));const k={id:"@jupyterlite/application-extension:licenses-client",autoStart:!0,provides:s.ILicensesClient,activate:e=>new i.LiteLicensesClient},w={id:"@jupyterlite/application-extension:plugin-manager",description:"Plugin manager viewer",autoStart:!0,optional:[a.JupyterLab.IInfo,r.ITranslator,s.ICommandPalette],provides:o.IPluginManager,activate:(e,t,n,a)=>{var c;const u=null!==(c=null==t?void 0:t.availablePlugins)&&void 0!==c?c:[];if(0===u.length)return{open:async()=>{console.info("The application does not contain information about plugins")}};const{commands:d,serviceManager:p,shell:g}=e,m=(n=null!=n?n:r.nullTranslator).load("jupyterlab"),h=m.__("Plugin Manager"),C=m.__("Advanced Plugin Manager"),k=new s.WidgetTracker({namespace:"plugin-manager"});return d.addCommand(v.openPluginManager,{label:C,execute:e=>{const t=function(e){const t=new i.LitePluginListModel({...e,pluginData:{availablePlugins:u},serverSettings:p.serverSettings,extraLockedPlugins:[w.id],translator:null!=n?n:r.nullTranslator}),a=new o.Plugins({model:t,translator:null!=n?n:r.nullTranslator});return a.title.label=C,a.title.icon=l.extensionIcon,a.title.caption=m.__("Plugin Manager"),new s.MainAreaWidget({content:a,reveal:t.ready})}(e);return g.add(t,"main",{type:"Plugins"}),k.add(t),t.content.model.trackerDataChanged.connect((()=>{k.save(t)})),t}}),a&&a.addItem({command:v.openPluginManager,category:h}),{open:()=>e.commands.execute(v.openPluginManager)}}},_={id:"@jupyterlite/application-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,provides:r.ITranslatorConnector,activate:e=>new i.LiteTranslatorConnector},P=[k,w,_,C]}}]);
//# sourceMappingURL=766.d4ad04a.js.map